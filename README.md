# OGRA LAB - نظام إدارة المختبر الطبي

## نظرة عامة
OGRA LAB هو نظام شامل لإدارة المختبرات الطبية تم تطويره باستخدام WPF و .NET 8.0. يوفر النظام جميع الوظائف اللازمة لإدارة المرضى، التحاليل، النتائج، والتقارير.

## المتطلبات
- .NET 8.0 SDK أو أحدث
- Windows 10/11
- SQLite (مدمج مع Entity Framework Core)

## المميزات الرئيسية

### إدارة المرضى
- إضافة وتعديل بيانات المرضى
- البحث المتقدم عن المرضى
- تاريخ المرضى الطبي
- إدارة معلومات الاتصال والطوارئ

### إدارة التحاليل
- كتالوج شامل لأنواع التحاليل
- مجموعات التحاليل مع خصومات
- طلبات التحاليل وتتبع الحالة
- إدخال وتحقق النتائج

### إدارة المستخدمين
- نظام مصادقة آمن مع تشفير كلمات المرور
- أدوار مختلفة (مدير، طبيب، فني، استقبال)
- تسجيل دخول وخروج المستخدمين

### التقارير والإحصائيات
- تقارير يومية وشهرية
- تقارير الإيرادات
- إحصائيات النظام
- تقارير المرضى والتحاليل

## هيكل المشروع

```
OGRALAB/
├── Models/           # نماذج البيانات
├── Views/            # واجهات المستخدم
├── ViewModels/       # نماذج العرض (MVVM)
├── Services/         # خدمات الأعمال
├── Data/             # DbContext وقاعدة البيانات
├── Helpers/          # أدوات مساعدة
└── README.md
```

## قاعدة البيانات

### الجداول الرئيسية
- **Users**: المستخدمين ومعلومات المصادقة
- **Patients**: بيانات المرضى
- **TestTypes**: أنواع التحاليل
- **TestGroups**: مجموعات التحاليل
- **PatientTests**: طلبات التحاليل
- **TestResults**: نتائج التحاليل
- **LoginLogs**: سجل الدخول والخروج

## التثبيت والإعداد

### 1. استنساخ المشروع
```bash
git clone https://github.com/OGRA-DOCTOR/ogra-lab.git
cd ogra-lab
```

### 2. بناء المشروع
```bash
dotnet restore
dotnet build
```

### 3. تشغيل المشروع
```bash
dotnet run
```

### 4. بيانات المدير الافتراضي
- **اسم المستخدم**: admin
- **كلمة المرور**: admin123
- **الدور**: Admin

⚠️ **تحذير**: يجب تغيير كلمة مرور المدير فور بدء الاستخدام

## الحزم المستخدمة

```xml
<PackageReference Include="Microsoft.EntityFrameworkCore.Sqlite" Version="8.0.0" />
<PackageReference Include="Microsoft.EntityFrameworkCore.Design" Version="8.0.0" />
<PackageReference Include="BCrypt.Net-Next" Version="4.0.3" />
<PackageReference Include="Microsoft.Xaml.Behaviors.Wpf" Version="1.1.39" />
<PackageReference Include="System.ComponentModel.Annotations" Version="5.0.0" />
```

## نمط MVVM
المشروع يتبع نمط Model-View-ViewModel (MVVM) لفصل منطق الأعمال عن واجهة المستخدم:

- **Models**: تمثل بيانات النظام
- **Views**: واجهات المستخدم (XAML)
- **ViewModels**: ربط البيانات ومنطق العرض
- **Services**: منطق الأعمال وعمليات قاعدة البيانات

## الأمان
- تشفير كلمات المرور باستخدام BCrypt
- تسجيل محاولات تسجيل الدخول
- نظام الأدوار والصلاحيات
- حماية من حقن SQL باستخدام Entity Framework

## النسخ الاحتياطي
- النسخ الاحتياطي التلقائي لقاعدة البيانات
- استعادة قاعدة البيانات من النسخ الاحتياطية
- تصدير البيانات بصيغ مختلفة

## التطوير المستقبلي
- [ ] واجهة ويب للوصول عن بُعد
- [ ] تطبيق موبايل للأطباء
- [ ] تكامل مع أجهزة التحليل
- [ ] نظام الإشعارات والتنبيهات
- [ ] تقارير متقدمة وتحليلات
- [ ] ربط مع أنظمة المستشفيات

## المساهمة
نرحب بالمساهمات! يرجى اتباع الخطوات التالية:

1. إنشاء Fork للمشروع
2. إنشاء branch جديد للميزة
3. كتابة الكود مع التعليقات
4. إضافة اختبارات إذا لزم الأمر
5. إرسال Pull Request

## الدعم
للحصول على الدعم أو الإبلاغ عن مشاكل:
- إنشاء Issue في GitHub
- التواصل مع فريق التطوير

## الترخيص
هذا المشروع مرخص تحت [رخصة MIT](LICENSE)

## تاريخ الإصدارات
- **v1.0.0**: الإصدار الأولي مع الوظائف الأساسية
- المزيد قادم...

---

تم تطوير هذا النظام بواسطة فريق OGRA DOCTOR لخدمة المختبرات الطبية.
